<!DOCTYPE html>
<!--
    author: Bryan Haberberger <bryan.j.haberberger@slu.edu>

    This is a small set of recipes for handling Lists or Sets of information whereby an Annotation is a List or Set annotation containing the values in an array.
    Ex. 
-->
<html>

<head>
    <title>List Anno Tester</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
    <style>
        h4{
            margin-bottom: 0px;
        }
    </style>
</head>

<body>
    <form id="exampleForm" deer-type="Thing" deer-context="http://schema.org" deer-item-type="simple">
        <input disabled type="hidden" deer-key="creator" value="DEER_RECIPE_LIST_ANNOTATION_POPULATOR">
        <h4>Multi Select:</h4>
        <label>
            Here the user can choose values by selecting the value they wish to include from the multi select area.  The values will be stored in a <pre> Set </pre> or </>List</pre> Annotation as an array, depending on which you choose. The values are pre-determined for the user.  The delimeter is provided here in the HTML and can be customized.    
        </label>
        <input disabled type="hidden" deer-key="DEER:multiSelect" deer-input-type="Set" deer-array-delimeter=":" >
        <select disabled multiple >
            <option value="Accommodation" >Accommodation</option>
            <option value="AdministrativeArea" >Administrative Area</option>
            <option value="CivicStructure" >Civic Structure</option>
            <option value="Landform" >Landform</option>
            <option value="LandmarksOrHistoricalBuildings" >Landmarks or Historical Buildings</option>
            <option value="LocalBusiness" >Local Business</option>
            <option value="Residence" >Residence</option>
            <option value="TouristDestination" >Tourist Destination</option>
        </select>
        <pre class="choices" id="multiChoices"></pre>

        <h4>Checkbox Group:</h4>
        <label>
            Here the user can choose values by selecting the checkbox by the value they wish to include.  The values will be stored in a <pre>Set</pre> or <pre>List</pre> Annotation as an array. Here the values are pre-determined.  No delimeter was provided so the comma <pre>(,)</pre> is used by default.
        </label>
        <input disabled type="hidden" deer-key="DEER:checkboxGroup" deer-input-type="Set" >
        <div>
            <label><input disabled type="checkbox" name="sports[]" value="cycling" onclick="handleCheckboxGroup(event)" /> cycling</label>
            <label><input disabled type="checkbox" name="sports[]" value="running" onclick="handleCheckboxGroup(event)" /> running</label>
            <label><input disabled type="checkbox" name="sports[]" value="walking" onclick="handleCheckboxGroup(event)" /> walking</label>
            <label><input disabled type="checkbox" name="sports[]" value="swimming" onclick="handleCheckboxGroup(event)" /> swimming</label>
            <label><input disabled type="checkbox" name="sports[]" value="team sports" onclick="handleCheckboxGroup(event)" /> team sport(s)</label>
            <label><input disabled type="checkbox" name="sports[]" value="fishing" onclick="handleCheckboxGroup(event)" /> fishing</label>
        </div>
        <pre class="choices" id="checkboxChoices"></pre>

        <h4>Textual Input Group:</h4>
        <label>
            Here the user can type whatever they want into the text area. Each entry will be stored as an item in an array of a <pre>Set</pre> or <pre>List</pre> Annotation. Note that a user could provide the delimeter used in the background and cause unexpected array items in certain scenarios.  Be mindful of what delimeter you use and/or how you handle user input that contains the delimeter.  In this example, the delimeiter is colon <pre>(:)</pre> and there is no mindful handling of user input.
        </label>
        <input disabled type="hidden" deer-key="DEER:textGroup" deer-input-type="Set" deer-array-delimeter=":" >
        <div>
            <label>User Input 1</label><input disabled type="text" onchange="handleTextGroup(event)" />
            <label>User Input 2</label><input disabled type="text" onchange="handleTextGroup(event)" />
            <label>User Input 3</label><input disabled type="text" onchange="handleTextGroup(event)" />
            <label>User Input 4</label><input disabled type="text" onchange="handleTextGroup(event)" />
            <label>User Input 5</label><input disabled type="text" onchange="handleTextGroup(event)" />
        </div>
        <pre class="choices" id="textChoices"></pre>

        <input disabled class="button primary" type="submit">
    </form>
    <script>
        /**
            * You can catch "loaded" events from DEER, which lets you know a form loaded and we have the Annotations.
            * A form is "loaded" when it has the deer-id attribute with a value of an existing JSON-LD data node.
            * The event will contain the Annotations which have the values you need to pre-select or pre-fill the inputs
            * that correlate to the Annotation.
        */
        addEventListener('deer-loaded', event => {
            let what = event.target.id
            switch(what){
                case "exampleForm":
                    //Note this is the DEER event and has a lot of information you may need.
                    preSelectMultiSelects(event) 
                    preSelectCheckboxGroup(event)
                    prefillTextGroup(event)
                break
                default:
                    console.log("I simply do not care.")
            }
        })
        /**
            * 
        */
        function preSelectMultiSelects(event){

        }

        /**
            * 
        */
        function preSelectCheckboxGroup(event){

        }

        /**
            * I can catch the DEER-LOADED event, which will let me know all my array type inputs are pre-populated
        */
        function prefillTextGroup(event){

        }
    </script>
    <!-- <script src="./releases/alpha-0.9/deer.js" type="module"></script> -->
    <script src="js/deer.js" type="module"></script>
</body>
</html>